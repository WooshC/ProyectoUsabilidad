<!DOCTYPE html>
<html lang="es">

<head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="../scripts/js/p5.js"></script>
        <script src="https://unpkg.com/ml5@latest/dist/ml5.js"></script>
        <link rel="stylesheet" href="../estilos/estilos_dibujo_libre/modal.css">
        <link rel="stylesheet" href="../estilos/backgroung.css">
        <title>Prototipo Dibujo</title>
        <link rel="stylesheet" href="../estilos/estilos_dibujo_libre/dibujoLibre.css">
</head>

<body>
        <!-- Botón de regreso al inicio -->
        <button class="home-button" onclick="window.location.href='menuPrincipal.html'"><img
                        src="https://cdn-icons-png.flaticon.com/128/507/507257.png"></button>

        <div class="contenedor">
                <div class="menu-lateral">
                        <button class="tool" id="boton deshacer" onclick="deshacer()"
                                alt="opción deshacer última acción">
                                <img src="https://cdn-icons-png.flaticon.com/128/18149/18149393.png">Deshacer
                        </button>
                        <button class="tool" id="grosor" onclick="toggleGrosor()" alt="Seleccionar grosor">
                                <img src="https://cdn-icons-png.flaticon.com/128/815/815492.png"
                                        alt="Icono Grosor">Grosor
                        </button>

                        <div id="grosor-options" class="grosor-options-container">
                                <div class="grosor-box grosor-small" onclick="setGrosor('pequeño')"></div>
                                <div class="grosor-box grosor-medium" onclick="setGrosor('mediano')"></div>
                                <div class="grosor-box grosor-large" onclick="setGrosor('grande')"></div>
                        </div>

                        <button class="tool" id="pencil" onclick="setHerramienta('lapiz')" alt="Herramienta lápiz"><img
                                        src="https://cdn-icons-png.flaticon.com/128/2280/2280532.png">Lápiz</button>
                        <button class="tool" id="brush" onclick="setHerramienta('pincel')" alt="Herramienta pincel"><img
                                        src="https://cdn-icons-png.flaticon.com/128/595/595743.png">Pincel</button>
                        <button class="tool" id="spray" onclick="setHerramienta('spray')" alt="Herramienta spray"><img
                                        src="https://cdn-icons-png.flaticon.com/128/4229/4229008.png">Spray</button>
                        <button class="tool" id="fill" onclick="setHerramienta('pintura')"
                                alt="Herramienta pintura"><img
                                        src="https://cdn-icons-png.flaticon.com/128/1676/1676699.png">Relleno</button>
                        <button class="tool" id="eraser" onclick="setHerramienta('borrador')"
                                alt="Herramienta borrador"><img
                                        src="https://cdn-icons-png.flaticon.com/128/776/776194.png">Borrador</button>
                        <button class="tool" id="colors" onclick="toggleColors()" alt="Seleccionar color">
                                <span id="colorCircle" class="color-circle"></span>
                                <span id="colorText">Color</span>
                        </button>
                        <div id="color-picker" class="color-picker-container">
                                <div class="color-box" style="background-color: black;" onclick="setColor('black')">
                                </div>
                                <div class="color-box" style="background-color: gray;" onclick="setColor('gray')"></div>
                                <div class="color-box" style="background-color: maroon;" onclick="setColor('maroon')">
                                </div>
                                <div class="color-box" style="background-color: blue;" onclick="setColor('blue')"></div>
                                <div class="color-box" style="background-color: green;" onclick="setColor('green')">
                                </div>
                                <div class="color-box" style="background-color: yellow;" onclick="setColor('yellow')">
                                </div>
                                <div class="color-box" style="background-color: red;" onclick="setColor('red')"></div>
                                <div class="color-box" style="background-color: orange;" onclick="setColor('orange')">
                                </div>
                                <div class="color-box" style="background-color: purple;" onclick="setColor('purple')">
                                </div>
                                <div class="color-box" style="background-color: pink;" onclick="setColor('pink')"></div>
                                <div class="color-box" style="background-color: white;" onclick="setColor('white')">
                                </div>
                        </div>
                </div>

                <div class="lienzo">
                        <div id="canvas"></div>
                </div>

                <div class="top-buttons">
                        <button class="tool" id="clearButton" onclick="clearLienzo()" alt="limpiar lienzo"><img
                                        src="https://cdn-icons-png.flaticon.com/128/10731/10731941.png">Reiniciar</button>
                        <button class="tool" id="saveButton" onclick="saveDrawingWithConfirmation()"
                                alt="guardar lienzo en la galería"><img
                                        src="https://cdn-icons-png.flaticon.com/128/907/907027.png">Guardar</button>
                        <button class="tool" id="download" onclick="downloadDrawingWithConfirmation()"
                                alt="Descargar lienzo"><img
                                        src="https://cdn-icons-png.flaticon.com/128/892/892634.png">Descargar</button>
                        <button class="action-btn" id="help" alt="Ayuda"><img
                                        src="https://cdn-icons-png.flaticon.com/128/189/189665.png"></button>
                </div>
        </div>

        <!-- Modal -->
        <div id="actionModal" class="modal">
                <div class="modal-content">
                        <h2 id="modalTitle">¿Estás seguro?</h2>
                        <p id="modalMessage">¿Deseas realizar esta acción?</p>
                        <div class="modal-actions">
                                <button id="confirmButton" class="modal-button">Aceptar</button>
                                <button id="cancelButton" class="modal-button">Cancelar</button>
                        </div>
                </div>
        </div>
        <!-- Contenedor para el mensaje de éxito -->
        <div id="successMessage" class="success-message">
                <p id="successText">¡Operación realizada con éxito!</p>
        </div>

        <script type="module" src="../scripts/js/dibujoLibre.js"></script>
        <script type="module">
                window.onload = function () {
                        cargarDibujo();
                };
        </script>
</body>

</html>